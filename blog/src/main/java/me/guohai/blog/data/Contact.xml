<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
    <mapper namespace="Contact">
    	<resultMap type="Contact" id="result">
    		<result property="code" column="ID"/>
    		<result property="title" column="post_title"/>
    		<result property="intro" column="post_content"/>
    		<result property="year" column="date_year"/>
    		<result property="month" column="date_month"/>
    		<result property="day" column="date_day"/>
    		<result property="date" column="post_date"/>
    		<result property="term" column="term_name"/>
    		
    	</resultMap>
    
    	<select id="getAll" resultMap="result">
    		SELECT ID,post_date,post_content,post_title,name as term_name
    			,date_format(post_date,'%Y') as date_year
    			,date_format(post_date,'%b') as date_month
				,date_format(post_date,'%e') as date_day
    		 FROM wp_posts a
    		 join wp_terms b on a.post_category=b.term_id
    		  WHERE post_type='post' order by post_date desc 
    		 limit 0,88
    	</select>
    	<select id="getById" parameterType="int" resultMap="result">
    		SELECT * FROM  wp_posts WHERE ID=#{id}
    	</select>
    	<select id="getByPage" parameterType="PagenateArgs" resultMap="result">
    		SELECT * FROM wp_posts WHERE post_type='post' order by ID desc limit #{pageStart},#{pageSize} 
    	</select>
    </mapper>